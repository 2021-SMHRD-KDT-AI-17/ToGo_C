<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.smhrd.mapper.MembersMapper">

   
   <insert id="membersInsert" parameterType="kr.smhrd.entity.Members">
      insert into members (mb_id, mb_pw, mb_nick, mb_phone) values(#{mb_id}, MD5(#{mb_pw}), #{mb_nick}, #{mb_phone})
   </insert>
   
   <select id="membersSelect" parameterType="kr.smhrd.entity.Members" resultType="kr.smhrd.entity.Members">
      select * from members where mb_id = #{mb_id}      
   </select>
   
   <select id="membersLogin" parameterType="kr.smhrd.entity.Members" resultType="kr.smhrd.entity.Members">
      select * from members where mb_id=#{mb_id} and mb_pw = MD5(#{mb_pw})
   </select>
   
   <update id="memberUpdate" parameterType="kr.smhrd.entity.Members">
      UPDATE members SET mb_pw=MD5(#{mb_pw}), mb_nick=#{mb_nick}, mb_phone=#{mb_phone} where mb_id=#{mb_id}
   </update>
   
   <update id="memberDelete" parameterType="kr.smhrd.entity.Members">
      UPDATE members SET mb_leave='Y' where mb_id=#{mb_id}
   </update>

</mapper>