<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.smhrd.mapper.OrderListMapper">

	
   	<insert id="orderInsert" parameterType="kr.smhrd.entity.Orders">
      INSERT INTO orders (mb_id, ordered_at, order_total_amount, order_status, store_id, pick_up_time) VALUES (#{mb_id}, NOW(), #{order_total_amount},#{order_status}, #{store_id}, #{pick_up_time})
	</insert>   
	<select id="orderSelect" parameterType="String" resultType="kr.smhrd.entity.Orders">
		SELECT * FROM orders where mb_id= #{mb_id} ORDER BY ordered_at DESC LIMIT 1;
	</select>
	<insert id="insertOrderDetail" parameterType="kr.smhrd.entity.Order_details">
	INSERT INTO order_details (menu_idx, order_cnt, order_request, order_idx, menu_good)
	 VALUES (#{menu_idx}, #{order_cnt}, #{order_request}, #{order_idx}, 'N');
	</insert>
	<select id="selectOrderDetail" parameterType="int" resultType="kr.smhrd.entity.Order_details">
	    select * from order_details where order_idx = #{order_idx}
	</select>
	
<!--    <update id="orderPickuptime" parameterType="int">
      UPDATE orders SET pick_up_time = #{pick_up_time} where mb_id=#{mb_id}
   </update>	 -->

</mapper>
